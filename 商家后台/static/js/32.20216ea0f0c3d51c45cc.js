webpackJsonp([32],{"5uSO":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"view-container"},[e("h2",{staticClass:"view-title"},[t._v("顾客信息")]),t._v(" "),e("ul",{staticClass:"cusInfo"},[e("li",[e("span",[t._v("顾客姓名")]),t._v(" "),e("h3",[t._v(t._s(t.cusInfo.name))]),t._v(" "),0===t.cusInfo.status||1===t.cusInfo.status?e("Button",{attrs:{type:"primary"},on:{click:t.addInvite}},[t._v("邀请绑定")]):t._e(),t._v(" "),5!==t.cusInfo.status||t.blackKey?t._e():e("Button",{attrs:{type:"ghost"},on:{click:t.addBlack}},[t._v("加入黑名单")]),t._v(" "),5===t.cusInfo.status&&t.blackKey?e("Button",[t._v("已加入黑名单")]):t._e()],1),t._v(" "),e("li",[e("span",[t._v("手机号码")]),t._v(" "),e("p",[t._v(t._s(t.cusInfo.mobile))])]),t._v(" "),e("li",[e("span",[t._v("绑定状态")]),t._v(" "),5===t.cusInfo.status?e("p",[t._v("已绑定")]):t._e(),t._v(" "),2===t.cusInfo.status?e("p",[t._v("已邀请")]):t._e(),t._v(" "),0===t.cusInfo.status||1===t.cusInfo.status?e("p",[t._v("未绑定")]):t._e()])]),t._v(" "),e("Tabs",{attrs:{type:"card",animated:!1}},[e("TabPane",{attrs:{label:"治疗消息"}},[e("div",{staticClass:"container-main"},t._l(t.treatList,function(a,s){return e("div",{key:s,staticClass:"treatList-item"},[e("div",{staticClass:"treatList-item-left"},[e("h3",[t._v(t._s(a.chargeName))]),t._v(" "),e("div",[e("p",[t._v(t._s(a.paidDate))]),t._v(" "),e("p",[e("span",[t._v("项目类型")]),t._v("\n                                "+t._s(a.chargeCategoryName)+"\n                            ")]),t._v(" "),e("p",[e("span",[t._v("规 格")]),t._v("\n                                "+t._s(a.unitName)+"\n                            ")]),t._v(" "),e("p",[e("span",[t._v("数 量")]),t._v("\n                                "+t._s(a.totalNum)+"\n                            ")]),t._v(" "),e("p",[e("span",[t._v("指定医生")]),t._v("\n                                "+t._s(a.primaryDoctorName)+"\n                            ")]),t._v(" "),e("p",[e("span",[t._v("提交用户")]),t._v("\n                                "+t._s(a.primaryDoctorName)+"\n                            ")])])]),t._v(" "),e("div",{staticClass:"treatList-item-right"},[e("h3",[t._v("项目记录")]),t._v(" "),e("ul",{class:[a.operationList.length?"":"none"]},t._l(a.operationList,function(s,i){return e("li",{key:i},[0===s.num?e("p",{staticClass:"status-wait"},[e("span",[t._v("待执行")])]):e("p",{staticClass:"status-do"},[e("span",[t._v("已执行")])]),t._v(" "),e("p",[t._v(t._s(a.chargeName))]),t._v(" "),e("p",[t._v(t._s(s.operatorList.length?s.operatorList[0].userName:""))]),t._v(" "),e("p",[t._v(t._s(s.createTime?s.createTime.split(" ")[0]:""))])])}))])])}))]),t._v(" "),e("TabPane",{attrs:{label:"发送消息统计"}},[e("div",{staticClass:"container-main"},[e("Table",{attrs:{columns:t.col,data:t.data}})],1)])],1),t._v(" "),e("Modal",{attrs:{title:"系统提示",loading:t.loading,"class-name":"vertical-center-modal"},on:{"on-ok":t.ok},model:{value:t.modal,callback:function(a){t.modal=a},expression:"modal"}},[t.statusKey?e("p",[t._v("确定要将此人加入黑名单？")]):e("p",[t._v("确定邀请此人绑定？")])])],1)},i=[],n={render:s,staticRenderFns:i};a.a=n},"9t/U":function(t,a,e){a=t.exports=e("FZ+f")(!1),a.push([t.i,'.cusInfo[data-v-362a1a80]{padding:8px 20px;margin:16px 40px 7px 20px;border:1px solid #e5e5e5;background:#fcfcfc;border-radius:4px}.cusInfo li[data-v-362a1a80]{padding:8px 0}.cusInfo li span[data-v-362a1a80]{display:inline-block;margin-right:24px;font-size:14px;line-height:28px;color:#9e9e9e;vertical-align:middle}.cusInfo li h3[data-v-362a1a80]{margin-right:49px;font-size:18px;font-weight:400}.cusInfo li h3[data-v-362a1a80],.cusInfo li p[data-v-362a1a80]{display:inline-block;line-height:28px;color:#333;vertical-align:middle}.cusInfo li p[data-v-362a1a80]{font-size:14px}.treatList-item[data-v-362a1a80]{overflow:hidden;padding:10px 0 27px;border-bottom:1px solid #e5e5e5}.treatList-item-left[data-v-362a1a80]{float:left;width:300px;margin-right:25px}.treatList-item-left h3[data-v-362a1a80],.treatList-item-right h3[data-v-362a1a80]{font-size:16px;font-weight:400;line-height:22px;margin-bottom:22px}.treatList-item-left h3[data-v-362a1a80]{color:#333}.treatList-item-left div[data-v-362a1a80]{padding-left:20px}.treatList-item-left p[data-v-362a1a80]{font-size:13px;line-height:18px;padding-bottom:8px;color:#333}.treatList-item-left span[data-v-362a1a80]{display:inline-block;width:53px;height:18px;margin-right:30px;color:#9e9e9e;text-align:justify;vertical-align:middle;-moz-text-align-last:justify;-webkit-text-align-last:justify}.treatList-item-right[data-v-362a1a80]{float:left}.treatList-item-right h3[data-v-362a1a80]{color:#757575}.treatList-item-right ul[data-v-362a1a80]{margin-left:20px;border:1px solid #eee;border-bottom:none}.treatList-item-right .none[data-v-362a1a80]{display:none}.treatList-item-right li[data-v-362a1a80]{overflow:hidden;width:698px;padding:10px 0;border-bottom:1px solid #eee}.treatList-item-right p[data-v-362a1a80]{float:left;width:25%;text-align:center;font-size:13px;line-height:24px;color:#333}.treatList-item-right .status-do span[data-v-362a1a80],.treatList-item-right .status-wait span[data-v-362a1a80]{display:block;width:84px;height:24px;margin:0 auto;border-radius:4px}.treatList-item-right .status-wait span[data-v-362a1a80]{color:#56d48f;background:rgba(86,212,143,.15)}.treatList-item-right .status-do span[data-v-362a1a80]{color:#9e9e9e;background:#f4f4f4}@media screen and (-webkit-min-device-pixel-ratio:0){.treatList-item-left span[data-v-362a1a80]:after{content:".";display:inline-block;width:100%;overflow:hidden;height:0}}',""])},JDa5:function(t,a,e){var s=e("9t/U");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("rjj0")("99ce19d4",s,!0)},Ki6s:function(t,a,e){"use strict";function s(t){e("JDa5")}Object.defineProperty(a,"__esModule",{value:!0});var i=e("T7+o"),n=e("5uSO"),o=e("VU/8"),r=s,c=o(i.a,n.a,r,"data-v-362a1a80",null);a.default=c.exports},"T7+o":function(t,a,e){"use strict";a.a={data:function(){return{cusInfo:{name:this.$route.query.name,id:this.$route.query.id,userId:this.$route.query.userId,mobile:this.$route.query.mobile,status:1*this.$route.query.status,companyId:sessionStorage.getItem("companyId")},modal:!1,loading:!0,blackKey:!1,statusKey:!0,treatList:[],col:[{title:"创建时间",key:"createtime"},{title:"任务名称",key:"name"},{title:"任务描述",key:"description"},{title:"任务模式",render:function(t,a){return t("span","规则消息")}},{title:"状态",render:function(t,a){return t("span",1===a.row.status?"发送成功":"发送失败")}},{title:"创建用户",render:function(t,a){return t("span","系统管理员")}}],data:[]}},created:function(){5===this.cusInfo.status&&this.getBlackStatus(),this.getTreatList()},mounted:function(){this.getMessageList()},methods:{getTreatList:function(){var t=this;t.$http.get({url:"doct-webManager/guardTreatment/curelist.jhtml",data:{companyId:t.cusInfo.companyId,companyUserId:t.cusInfo.id,state:2},success:function(a){0===a.code&&(t.treatList=a.content||[])}})},getMessageList:function(){var t=this;t.$http.get({url:"doct-webManager/ruleMessage/getUserMsgSendedList.jhtml",data:{companyId:t.cusInfo.companyId,userId:t.cusInfo.id},success:function(a){0===a.code&&(t.data=a.content||[])}})},getBlackStatus:function(){var t=this;t.$http.get({url:"doct-webManager/blackList/judge.jhtml",data:{companyId:t.cusInfo.companyId,userId:t.cusInfo.userId},success:function(a){0===a.code?t.blackKey=!1:t.blackKey=!0}})},addBlack:function(){this.blackKey||(this.statusKey=!0,this.modal=!0)},addInvite:function(){this.statusKey=!1,this.modal=!0},ok:function(){var t=this,a="",e={};t.statusKey?(a="doct-webManager/blackList/add.jhtml",e={companyId:t.cusInfo.companyId,userId:t.cusInfo.userId,mobile:t.cusInfo.mobile,userName:t.cusInfo.name}):(a="doct-webManager/guard_user/sendInvitedSmsByTreatmentOnce.jhtml",e={companyId:t.cusInfo.companyId,companyUserId:t.cusInfo.id,mobile:t.cusInfo.mobile,name:t.cusInfo.name}),t.$http.post({url:a,data:e,success:function(a){t.statusKey?0===a.code?(t.$Notice.success({title:"系统提示！",desc:"操作成功！"}),t.getBlackStatus()):t.$Notice.error({title:"系统提示！",desc:a.desc}):0===a.content.code?t.$Notice.success({title:"系统提示！",desc:"邀请成功！"}):t.$Notice.error({title:"系统提示！",desc:a.content.desc}),t.modal=!1}})},toView:function(){this.$router.push("/productEdit")}}}}});
webpackJsonp([42],{"545/":function(e,t,a){"use strict";function s(e){a("E4r6")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("d+AE"),n=a("udD6"),i=a("VU/8"),o=s,c=i(r.a,n.a,o,"data-v-18b94ac8",null);t.default=c.exports},E4r6:function(e,t,a){var s=a("EQup");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("36c4c5af",s,!0)},EQup:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".add-product[data-v-18b94ac8]{margin-bottom:21px;text-align:right}.refresh[data-v-18b94ac8],.search[data-v-18b94ac8]{margin:0 8px 0 0}.refresh[data-v-18b94ac8]{margin-left:-40px}.remove[data-v-18b94ac8]{margin-top:16px}",""])},"d+AE":function(e,t,a){"use strict";t.a={data:function(){var e=this;return{modal:!1,loading:!0,sendKey:!0,searchKey:!0,total:0,pageNumber:1,pageSize:10,tableLoad:!1,bindUser:{companyUserId:"",name:""},formSearch:{name:"",mobile:"",isBinded:"",show:""},pageSizeList:[10,20,50,100,200],col:[{title:"顾客",key:"name"},{title:"手机号",key:"mobile"},{title:"同步时间",key:"createDate"},{title:"绑定状态",width:110,render:function(t,a){return 2===a.row.bindStatus?t("div",{class:"invited-word-btn"},"已邀请"):0===a.row.bindStatus||1===a.row.bindStatus?t("div",{class:"invite-word-btn",on:{click:function(){e.bind(a.row)}}},"邀请绑定"):5===a.row.bindStatus?t("span",{style:{fontSize:"14px",color:"#9e9e9e"}},"已绑定"):void 0}}],data:[]}},created:function(){this.getList(1,this.formSearch)},methods:{getList:function(e,t){var a=this;t.pageSize=a.pageSize,t.pageNumber=e,a.tableLoad=!0,a.$http.get({url:"doct-webManager/guard_user/get_page.jhtml",data:t,success:function(e){0===e.code&&(a.data=e.content.page.content||[],a.pageNumber=e.content.page.pageNumber||1,a.total=e.content.page.total||0),a.tableLoad=!1}})},refresh:function(){this.$refs.formSearch.resetFields(),this.getList(1,this.formSearch)},changePage:function(e){this.getList(e,this.formSearch)},changePageSize:function(e){this.pageSize=e,this.getList(1,this.formSearch)},addMore:function(){this.sendKey=!1,this.modal=!0},bind:function(e){this.bindUser.name=e.name,this.bindUser.companyUserId=e.companyCreateUserId,this.sendKey=!0,this.modal=!0},ok:function(){var e=this,t=e.sendKey?"doct-webManager/guard_user/sendInvitedSmsByCompanyUserIdOnce.jhtml":"doct-webManager/guard_user/sendInvitedSmsAll.jhtml";e.$http.post({url:t,data:e.bindUser,success:function(t){0===t.content.code?(e.$Notice.success({title:"系统提示！",desc:"邀请成功！"}),e.getList(e.pageNumber,e.formSearch)):e.$Notice.error({title:"系统提示！",desc:t.desc}),e.modal=!1}})},changeSearch:function(e){this.searchKey=e}}}},udD6:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("h2",{staticClass:"view-title"},[e._v("锦医卫顾客")]),e._v(" "),a("div",{staticClass:"container-main"},[a("div",{class:["main-search-box",e.searchKey?"":"up"]},[a("div",{staticClass:"main-search-title"},[e._v("筛选查询")]),e._v(" "),e.searchKey?a("div",{staticClass:"search-show-btn-down",on:{click:function(t){e.changeSearch(!1)}}},[e._v("收起筛选"),a("span")]):e._e(),e._v(" "),e.searchKey?e._e():a("div",{staticClass:"search-show-btn-up",on:{click:function(t){e.changeSearch(!0)}}},[e._v("展开筛选"),a("span")]),e._v(" "),a("Form",{directives:[{name:"show",rawName:"v-show",value:e.searchKey,expression:"searchKey"}],ref:"formSearch",attrs:{model:e.formSearch,inline:"","label-width":60}},[a("FormItem",{attrs:{label:"姓名",prop:"name"}},[a("Input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入姓名",maxlength:20},model:{value:e.formSearch.name,callback:function(t){e.formSearch.name="string"==typeof t?t.trim():t},expression:"formSearch.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"手机",prop:"mobile"}},[a("Input",{staticStyle:{width:"120px"},attrs:{placeholder:"请输入手机",maxlength:20},model:{value:e.formSearch.mobile,callback:function(t){e.formSearch.mobile="string"==typeof t?t.trim():t},expression:"formSearch.mobile"}})],1),e._v(" "),a("FormItem",{attrs:{label:"状态",prop:"isBinded"}},[a("Select",{staticStyle:{width:"120px"},attrs:{clearable:!0},model:{value:e.formSearch.isBinded,callback:function(t){e.formSearch.isBinded=t},expression:"formSearch.isBinded"}},[a("Option",{attrs:{value:1}},[e._v("已绑定")]),e._v(" "),a("Option",{attrs:{value:0}},[e._v("未绑定")])],1)],1),e._v(" "),a("FormItem",[a("Button",{staticClass:"refresh",attrs:{type:"ghost"},on:{click:e.refresh}},[e._v("重置")]),e._v(" "),a("Button",{staticClass:"search",attrs:{type:"primary"},on:{click:function(t){e.getList(1,e.formSearch)}}},[e._v("检索")])],1)],1)],1),e._v(" "),a("Table",{attrs:{columns:e.col,data:e.data,loading:e.tableLoad}}),e._v(" "),a("Button",{staticClass:"remove",attrs:{type:"ghost"},on:{click:e.addMore}},[e._v("全部邀请")]),e._v(" "),a("Page",{attrs:{total:e.total,current:e.pageNumber,"show-total":"","show-sizer":"","page-size-opts":e.pageSizeList},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1),e._v(" "),a("Modal",{attrs:{title:"系统提示",loading:e.loading,"class-name":"vertical-center-modal"},on:{"on-ok":e.ok},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[e.sendKey?a("p",[e._v("您确定要邀请"+e._s(e.bindUser.name)+"绑定医院吗？")]):e._e(),e._v(" "),e.sendKey?a("p",[e._v("一天只能邀请一次！")]):e._e(),e._v(" "),e.sendKey?e._e():a("p",[e._v("是否全部邀请！")])])],1)},r=[],n={render:s,staticRenderFns:r};t.a=n}});
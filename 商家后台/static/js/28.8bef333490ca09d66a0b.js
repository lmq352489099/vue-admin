webpackJsonp([28],{FTGq:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-container"},[a("h2",{staticClass:"view-title"},[t._v("帐号设置")]),t._v(" "),a("div",{staticClass:"container-main"},[t._m(0),t._v(" "),a("Form",{attrs:{"label-width":120,"label-position":"left"}},[a("FormItem",{attrs:{label:"绑定锦医卫"}},[a("p",{staticClass:"message"},[t._v("绑定“锦医卫”后，您将可以在“悦完美管理后台”“管理操作医生状态等信息”\n                    "),t.isApiEnable?a("span",{staticClass:"bind",on:{click:function(e){t.edit(3)}}},[t._v("取消绑定")]):a("span",{staticClass:"bind",on:{click:function(e){t.edit(2)}}},[t._v("立即绑定")])])]),t._v(" "),t.isApiEnable?a("FormItem",{attrs:{label:"同步顾客"}},[a("p",{staticClass:"message"},[t._v("“锦衣卫”内的顾客的信息将会与你好医生管理后台同步，方便你进行管理操作。\n                    "),a("i-switch",{staticStyle:{marginLeft:"20px"},attrs:{value:t.isSync},on:{"on-change":t.setSync}},[a("Icon",{attrs:{slot:"open",type:"android-done"},slot:"open"}),t._v(" "),a("Icon",{attrs:{slot:"close",type:"android-close"},slot:"close"})],1)],1)]):t._e()],1),t._v(" "),t._m(1),t._v(" "),a("Form",{attrs:{"label-width":120,"label-position":"left"}},[a("FormItem",{attrs:{label:"记得旧密码"}},[a("p",{staticClass:"message"},[t._v("修改管理端登录密码"),a("span",{staticClass:"bind",on:{click:function(e){t.edit(1)}}},[t._v("修改")])])]),t._v(" "),a("FormItem",{attrs:{label:"忘记旧密码"}},[a("p",{staticClass:"message diff"},[t._v("请发送帐号和医院职业资格证书至"),a("em",{staticClass:"mail-icon"},[t._v("xuzy@easyhoms.com")]),t._v("的企业邮箱，我们的7*24小时客服将尽快审核您的信息后为你修改密码。")])])],1)],1),t._v(" "),a("Modal",{attrs:{title:t.modalTit,loading:t.loading,"class-name":"vertical-center-modal"},on:{"on-ok":t.ok},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("Form",{ref:"formEdit",attrs:{model:t.formEdit,rules:t.ruleForm,"label-width":120,"label-position":"left"}},[1===t.key?a("Form-item",{attrs:{label:"旧密码",prop:"oldPasswd",required:""}},[a("Input",{attrs:{type:"password"},model:{value:t.formEdit.oldPasswd,callback:function(e){t.formEdit.oldPasswd="string"==typeof e?e.trim():e},expression:"formEdit.oldPasswd"}})],1):t._e(),t._v(" "),1===t.key?a("Form-item",{attrs:{label:"新密码",prop:"newPasswd",required:""}},[a("Input",{attrs:{type:"password"},model:{value:t.formEdit.newPasswd,callback:function(e){t.formEdit.newPasswd="string"==typeof e?e.trim():e},expression:"formEdit.newPasswd"}})],1):t._e(),t._v(" "),1===t.key?a("Form-item",{attrs:{label:"确认密码",prop:"newPasswd1",required:""}},[a("Input",{attrs:{type:"password"},model:{value:t.formEdit.newPasswd1,callback:function(e){t.formEdit.newPasswd1="string"==typeof e?e.trim():e},expression:"formEdit.newPasswd1"}})],1):t._e(),t._v(" "),3===t.key?a("Form-item",[a("p",{staticStyle:{paddingRight:"120px",textAlign:"center"}},[t._v("确定要解除绑定锦医卫吗？")])]):t._e(),t._v(" "),2===t.key?a("Form-item",{attrs:{label:"serverUrl",prop:"apiServerUrl",required:""}},[a("Input",{attrs:{maxlength:50},model:{value:t.formEdit.apiServerUrl,callback:function(e){t.formEdit.apiServerUrl="string"==typeof e?e.trim():e},expression:"formEdit.apiServerUrl"}})],1):t._e(),t._v(" "),2===t.key?a("Form-item",{attrs:{label:"appId",prop:"apiAppId",required:""}},[a("Input",{attrs:{maxlength:50},model:{value:t.formEdit.apiAppId,callback:function(e){t.formEdit.apiAppId="string"==typeof e?e.trim():e},expression:"formEdit.apiAppId"}})],1):t._e(),t._v(" "),2===t.key?a("Form-item",{attrs:{label:"appsecret",prop:"apiAppsecret",required:""}},[a("Input",{attrs:{maxlength:50},model:{value:t.formEdit.apiAppsecret,callback:function(e){t.formEdit.apiAppsecret="string"==typeof e?e.trim():e},expression:"formEdit.apiAppsecret"}})],1):t._e(),t._v(" "),2===t.key?a("Form-item",{attrs:{label:"grantType",prop:"apiGrantType",required:""}},[a("Input",{attrs:{maxlength:50},model:{value:t.formEdit.apiGrantType,callback:function(e){t.formEdit.apiGrantType="string"==typeof e?e.trim():e},expression:"formEdit.apiGrantType"}})],1):t._e(),t._v(" "),2===t.key?a("Form-item",{attrs:{label:"signkey",prop:"apiSignkey",required:""}},[a("Input",{attrs:{maxlength:50},model:{value:t.formEdit.apiSignkey,callback:function(e){t.formEdit.apiSignkey="string"==typeof e?e.trim():e},expression:"formEdit.apiSignkey"}})],1):t._e()],1)],1)],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-title-second"},[a("h3",[t._v("信息同步")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-title-second"},[a("h3",[t._v("登录密码")])])}],s={render:i,staticRenderFns:r};e.a=s},QuFG:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".message[data-v-04fdbdc0]{font-size:14px;color:#333}.bind[data-v-04fdbdc0]{padding-left:20px;color:#55a8fd;cursor:pointer}.message em[data-v-04fdbdc0]{font-style:normal;color:#55a8fd}.diff[data-v-04fdbdc0]{width:512px}",""])},V25g:function(t,e,a){"use strict";e.a={data:function(){var t=this,e=function(e,a,i){""===a?i(new Error("请输入密码")):(""!==t.formEdit.newPasswd1&&t.$refs.formEdit.validateField("newPasswd1"),/^[0-9a-zA-Z]{6,20}$/.test(a)?i():i(new Error("请输入密码长度为6-20的英文字母或数字！")))},a=function(e,a,i){""===a?i(new Error("请再次输入密码")):a!==t.formEdit.newPasswd?i(new Error("两次输入密码不一致!")):i()},i=function(t,e,a){""===e?a(new Error("请输入旧密码")):a()},r=function(t,e,a){""===e?a(new Error("请输入绑定信息")):a()};return{modalTit:"",key:1,isApiEnable:!1,isSync:!1,modal:!1,loading:!0,formEdit:{oldPasswd:"",newPasswd:"",newPasswd1:"",apiServerUrl:"",apiAppId:"",apiAppsecret:"",apiGrantType:"",apiSignkey:""},ruleForm:{newPasswd:[{validator:e,trigger:"blur"}],newPasswd1:[{validator:a,trigger:"blur"}],oldPasswd:[{validator:i,trigger:"blur"}],apiServerUrl:[{validator:r,trigger:"blur"}],apiAppId:[{validator:r,trigger:"blur"}],apiAppsecret:[{validator:r,trigger:"blur"}],apiGrantType:[{validator:r,trigger:"blur"}],apiSignkey:[{validator:r,trigger:"blur"}]}}},computed:{baseImgURL:function(){return this.$store.getters.getBaseImgURL}},created:function(){this.getList()},methods:{getList:function(){var t=this;t.$http.get({url:"doct-webManager/company/get_companyInfo.jhtml",success:function(e){0===e.code&&(t.isApiEnable=e.content.isApiEnable||!1,t.isSync=e.content.isSync||!1)}})},setSync:function(t){var e=this;e.$http.post({url:"doct-webManager/company/setCompanySync.jhtml",data:{isSync:t},success:function(t){if(0===t.code){var a=t.content?"成功开启同步顾客！":"成功关闭同步顾客！";e.$Notice.success({title:"系统提示！",desc:a})}else e.$Notice.error({title:"系统提示！",desc:t.desc})}})},edit:function(t){1===t?this.modalTit="修改密码":3===t?this.modalTit="取消绑定锦医卫":2===t&&(this.modalTit="绑定锦医卫"),this.key=t,this.$refs.formEdit.resetFields(),this.modal=!0},ok:function(){var t=this,e="";1===t.key?e="doct-webManager/passwd/oldpasswd_reset.jhtml":2===t.key?e="doct-webManager/company/set_companyApiInfo.jhtml":3===t.key&&(e="doct-webManager/company/disConnApiInfo.jhtml"),t.$refs.formEdit.validate(function(a){a?t.$http.post({url:e,data:t.formEdit,success:function(e){0===e.code?(t.$Notice.success({title:"系统提示！",desc:"修改成功"}),t.getList()):t.$Notice.error({title:"系统提示！",desc:e.desc}),t.modal=!1}}):(t.loading=!1,t.$nextTick(function(){t.loading=!0}))})}}}},a726:function(t,e,a){var i=a("QuFG");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("80d9f9d4",i,!0)},ccNg:function(t,e,a){"use strict";function i(t){a("a726")}Object.defineProperty(e,"__esModule",{value:!0});var r=a("V25g"),s=a("FTGq"),o=a("VU/8"),n=i,l=o(r.a,s.a,n,"data-v-04fdbdc0",null);e.default=l.exports}});
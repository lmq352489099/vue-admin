webpackJsonp([18],{9931:function(t,e,a){"use strict";function n(t){a("ocqu")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("dnN+"),s=a("bmtm"),l=a("VU/8"),o=n,r=l(i.a,s.a,o,"data-v-d623e058",null);e.default=r.exports},bmtm:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-container"},[a("h2",{staticClass:"view-title"},[t._v("员工分析")]),t._v(" "),a("div",{staticClass:"container-main"},[a("div",[a("h1",{staticClass:"subtitle"},[t._v("客户量")]),t._v(" "),a("div",{staticClass:"subtitle-box"},[a("table",[t._m(0),t._v(" "),t._l(t.staffList,function(e){return a("tr",{key:e.index},[a("td",[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(e.one))]),t._v(" "),a("td",[t._v(t._s(e.two))]),t._v(" "),a("td",[t._v(t._s(e.two+e.one))])])}),t._v(" "),a("tr",[a("td",{staticClass:"all"},[t._v("合计")]),t._v(" "),a("td",{staticClass:"all"},[t._v(t._s(t.oneAll))]),t._v(" "),a("td",{staticClass:"all"},[t._v(t._s(t.twoAll))]),t._v(" "),a("td",{staticClass:"all"},[t._v(t._s(t.oneAll+t.twoAll))])])],2)])]),t._v(" "),a("div",[a("h1",{staticClass:"subtitle"},[t._v("顾客脉络图")]),t._v(" "),a("Select",{staticStyle:{width:"200px"},on:{"on-change":t.doMore},model:{value:t.model1,callback:function(e){t.model1=e},expression:"model1"}},t._l(t.doclist,function(e){return a("Option",{key:e.index,attrs:{value:e.id}},[t._v(t._s(e.name))])})),t._v(" "),a("div",{attrs:{id:"chart-box"}})],1)])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",[t._v("员工")]),t._v(" "),a("th",[t._v("直接客户量")]),t._v(" "),a("th",[t._v("渗透客户量")]),t._v(" "),a("th",[t._v("合计")])])}],s={render:n,staticRenderFns:i};e.a=s},"dnN+":function(t,e,a){"use strict";var n=a("mvHQ"),i=a.n(n);e.a={data:function(){return{staffList:[],oneAll:"",twoAll:"",doclist:[],model1:"",staffId:"",userId:"",deepValue:0,chart:null,children1:[],data:{name:"",children:[]},presentNode:null}},computed:{},mounted:function(){this.getStaffUserNums(),this.docid()},methods:{doMore:function(t){var e=this,a=t,n=e.doclist.filter(function(t){return t.id==a});e.staffId=t,e.deepValue=0,e.data={name:n[0].name},localStorage.setItem("data",e.data.name),e.userRelate()},getStaffUserNums:function(){var t=this;t.$http.get({url:"doct-webManager/api/xcx/message/getStaffUserNums.jhtml",success:function(e){t.staffList=e.content;for(var a=t.staffList.map(function(t){return t.one}),n=0,i=0;i<a.length;i++)n+=parseFloat(a[i]),t.oneAll=n;for(var s=t.staffList.map(function(t){return t.two}),n=0,i=0;i<s.length;i++)n+=parseFloat(s[i]),t.twoAll=n}})},docid:function(){var t=this;t.$http.get({url:"/doct-webManager/staff/get_staffs.jhtml",data:{companyId:1},success:function(e){t.doclist=e.content}})},userRelate:function(){var t=this,e={};e={deepValue:t.deepValue,staffId:t.staffId,userId:t.userId},t.$http.get({url:"/doct-webManager/api/xcx/message/userRelate.jhtml",data:e,success:function(e){localStorage.setItem("children",i()(e.content.children)),t.data.children=JSON.parse(localStorage.children),t.chart=echarts.init(document.getElementById("chart-box")),t.chart.on("click",function(a){t.presentNode=a,t.id=a.data.id;var n=e.content.children.filter(function(t){return t.id==a.data.id});0==n.length||(t.deepValue=n[0].deepValue+1,t.userId=n[0].userId,t.staffId=t.staffId,t.next())}),t.chart.setOption({tooltip:{triggerOn:"mousemove"},series:[{type:"tree",data:[t.data],top:"1%",left:"7%",bottom:"1%",right:"20%",symbolSize:7,label:{normal:{position:"left",verticalAlign:"middle",align:"right",fontSize:9}},leaves:{label:{normal:{position:"right",verticalAlign:"middle",align:"left"}}},expandAndCollapse:!0,animationDuration:550,animationDurationUpdate:750}]})}})},next:function(){var t=this,e={};e={deepValue:t.deepValue,staffId:t.staffId,userId:t.userId},t.$http.get({url:"/doct-webManager/api/xcx/message/userRelate.jhtml",data:e,success:function(e){t.children1=e.content,t.data.children.filter(function(e){return e.userId==t.userId})[0].children=t.children1,t.chart.setOption({series:[{data:[t.data]}]})}})}}}},mvHQ:function(t,e,a){t.exports={default:a("qkKv"),__esModule:!0}},ocqu:function(t,e,a){var n=a("zJa8");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("eaf30fe2",n,!0)},qkKv:function(t,e,a){var n=a("FeBl"),i=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}},zJa8:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".subtitle[data-v-d623e058]{font-size:18px;background-color:#e4e4e4;height:50px;line-height:50px;text-indent:20px;font-weight:500;margin-bottom:20px}.subtitle-box[data-v-d623e058]{border:1px solid #e4e4e4;margin-bottom:30px}.subtitle-box table[data-v-d623e058]{border:1px solid #c9c9c9;border-collapse:collapse;margin:60px}.subtitle-box table tr th[data-v-d623e058]{border:1px solid #c9c9c9;background-color:#f2f2f2;width:140px;height:50px}.subtitle-box table tr td[data-v-d623e058]{border:1px solid #c9c9c9;height:30px;text-align:center}.all[data-v-d623e058]{background-color:#a1a1a1;height:40px!important}#chart-box[data-v-d623e058]{height:500px}",""])}});
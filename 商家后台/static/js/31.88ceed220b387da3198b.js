webpackJsonp([31],{"3YmE":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-container"},[a("h2",{staticClass:"view-title"},[t._v("确认疗程消息")]),t._v(" "),a("div",{staticClass:"container-main rule"},[a("Form",{ref:"formAdd",attrs:{"label-width":90,"label-position":"left"}},[a("div",{staticClass:"rule-item"},[a("h3",[t._v("一、规则名称")]),t._v(" "),a("Form-item",{attrs:{label:"规则名称",prop:"name"}},[a("span",{staticClass:"message"},[t._v(t._s(t.formAdd.name))])]),t._v(" "),a("Form-item",{attrs:{label:"规则描述",prop:"description"}},[a("span",{staticClass:"message"},[t._v(t._s(t.formAdd.description))])])],1),t._v(" "),a("div",{staticClass:"rule-item"},[a("h3",[t._v("二、规则设置")]),t._v(" "),a("p",{staticClass:"tit"},[t._v("1.选择项目分类")]),t._v(" "),a("Form-item",{attrs:{"label-width":1}},[a("div",{staticClass:"category-tags"},t._l(t.tagsBox,function(e,s){return a("div",{key:e,staticClass:"tag-item"},[a("Tag",[t._v(t._s(e))])],1)}))]),t._v(" "),a("p",{staticClass:"tit"},[t._v("2.设置消息模版")]),t._v(" "),a("Form-item",{directives:[{name:"show",rawName:"v-show",value:t.formAdd.newStatus,expression:"formAdd.newStatus"}],attrs:{"label-width":30}},[a("Checkbox",{attrs:{"true-value":1,"false-value":0,disabled:""},model:{value:t.formAdd.newStatus,callback:function(e){t.formAdd.newStatus=e},expression:"formAdd.newStatus"}},[a("span",{staticClass:"check"},[t._v("顾客购买项目后，推送消息")])]),t._v(" "),a("div",{staticClass:"diff"},[a("span",{staticClass:"time"},[t._v(t._s(t.newTime))])]),t._v(" "),a("p",{staticClass:"content"},[t._v(t._s(t.formAdd.newMessage))])],1),t._v(" "),a("Form-item",{directives:[{name:"show",rawName:"v-show",value:t.formAdd.operationStatus,expression:"formAdd.operationStatus"}],attrs:{"label-width":30}},[a("Checkbox",{attrs:{"true-value":1,"false-value":0,disabled:""},model:{value:t.formAdd.operationStatus,callback:function(e){t.formAdd.operationStatus=e},expression:"formAdd.operationStatus"}},[a("span",{staticClass:"check"},[t._v("顾客上门治疗后(治疗未完成)，推送消息")])]),t._v(" "),a("div",{staticClass:"diff"},[a("span",{staticClass:"time"},[t._v(t._s(t.operationTime))])]),t._v(" "),a("div",[a("p",{staticClass:"content"},[t._v(t._s(t.formAdd.operationMessage))])])],1),t._v(" "),a("Form-item",{directives:[{name:"show",rawName:"v-show",value:t.formAdd.completeStatus,expression:"formAdd.completeStatus"}],attrs:{"label-width":30}},[a("Checkbox",{attrs:{"true-value":1,"false-value":0,disabled:""},model:{value:t.formAdd.completeStatus,callback:function(e){t.formAdd.completeStatus=e},expression:"formAdd.completeStatus"}},[a("span",{staticClass:"check"},[t._v("全部疗程完成后，推送消息")])]),t._v(" "),a("div",{staticClass:"diff"},[a("span",{staticClass:"time"},[t._v(t._s(t.completeTime))])]),t._v(" "),a("div",[a("p",{staticClass:"content"},[t._v(t._s(t.formAdd.completeMessage))])])],1)],1)]),t._v(" "),a("div",{staticClass:"main-footer-btn"},[a("Button",{attrs:{type:"ghost"},on:{click:t.back}},[t._v("返回修改")]),t._v(" "),a("Button",{attrs:{type:"primary",loading:t.saveLoad},on:{click:t.save}},[t._v("确认并开启")])],1)],1)])},i=[],o={render:s,staticRenderFns:i};e.a=o},"6b4o":function(t,e,a){"use strict";function s(t){a("7XRo")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("PEMN"),o=a("3YmE"),r=a("VU/8"),d=s,n=r(i.a,o.a,d,"data-v-65db7c4f",null);e.default=n.exports},"7XRo":function(t,e,a){var s=a("Avqt");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("4ca30d3e",s,!0)},Avqt:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".rule[data-v-65db7c4f]{padding-top:100px;padding-bottom:70px}.rule-item[data-v-65db7c4f]{margin-bottom:30px}.rule-item h3[data-v-65db7c4f]{padding-bottom:15px;border-bottom:1px solid #e5e5e5;margin-bottom:30px;font-size:16px;font-weight:400;line-height:22px;color:#333}.prompt[data-v-65db7c4f]{font-size:14px;color:#9e9e9e}.tit[data-v-65db7c4f]{margin-bottom:20px;font-size:14px;line-height:20px;color:#333}.tag-item[data-v-65db7c4f]{display:inline-block;vertical-align:top;margin:0 20px 10px 0}.radio label[data-v-65db7c4f]{margin-left:10px}.check[data-v-65db7c4f]{display:inline-block;vertical-align:top;padding-left:8px;font-size:14px;line-height:28px;color:#333}.diff[data-v-65db7c4f]{margin:5px 0}.message[data-v-65db7c4f]{font-size:14px;color:#333}.time[data-v-65db7c4f]{font-size:14px;color:rgba(0,0,0,.65)}.content[data-v-65db7c4f]{width:568px;padding:6px 8px;border:1px solid #d9d9d9;font-size:12px;line-height:18px;color:#333;border-radius:4px}",""])},PEMN:function(t,e,a){"use strict";e.a={data:function(){return{saveLoad:!1,formAdd:{name:"",description:"",categoryIds:"",categoryNames:"",newStatus:0,newTime:0,newMessage:"",operationStatus:0,operationTime:0,operationMessage:"",completeStatus:0,completeTime:0,completeMessage:""},timeList:[{id:0,name:"立即发送"},{id:1440,name:"24小时后"},{id:2880,name:"48小时后"},{id:4320,name:"72小时后"},{id:7200,name:"120小时后"}]}},computed:{tagsBox:function(){return this.formAdd.categoryNames.split(",")},newTime:function(){var t=this;return this.timeList.filter(function(e){return e.id===t.formAdd.newTime})[0].name},operationTime:function(){var t=this;return this.timeList.filter(function(e){return e.id===t.formAdd.operationTime})[0].name},completeTime:function(){var t=this;return this.timeList.filter(function(e){return e.id===t.formAdd.completeTime})[0].name}},created:function(){this.formAdd=JSON.parse(this.$route.query.data)},methods:{back:function(){this.$router.go(-1)},save:function(){var t=this;t.saveLoad=!0,t.$http.post({url:"doct-webManager/ruleMessage/add.jhtml",data:t.formAdd,success:function(e){0===e.code?(t.$Notice.success({title:"系统提示！",desc:"添加成功！"}),t.$router.push("/autoRule")):t.$Notice.error({title:"系统提示！",desc:e.desc}),t.saveLoad=!1}})}}}}});
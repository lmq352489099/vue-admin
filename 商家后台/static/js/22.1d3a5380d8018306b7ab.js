webpackJsonp([22],{"0wuf":function(t,e,a){"use strict";e.a={data:function(){return{baseImgURL:"http://www.hellodoctor.com.cn/",dcName:"",cityList:[{value:0,label:"住院医师"},{value:1,label:"主治医师"},{value:2,label:"副主任医师"},{value:3,label:"主任医师"}],model1:"",urlList:["","","","","",""],formValidate:{identity:""},ruleValidate:{identity:[{required:!0,message:"请输入身份证号码!",trigger:"blur"}]}}},created:function(){this.getStorage()},mounted:function(){this.dcName=localStorage.name},methods:{saveFile:function(t,e){var a=this,i=new FormData;i.append("file",t),i.append("chunks","0"),i.append("token",a.$token.readToken("adminToken")),i.append("fileType","image"),a.$http.upload({url:"doct-webManager/mutual/upload.jhtml",data:i,success:function(t){0===t.code?(a.urlList.splice(e,1,a.baseImgURL+t.content),a.dataList.splice(e,1,t.content),a.$emit("setPhotoList",a.dataList)):a.$Notice.error({title:"系统提示！",desc:t.desc})}})},ruleUpload:function(t,e){/\.(jpg|png)$/.test(t.name.toLowerCase())?t.size<=1048576?this.saveFile(t,e):this.$Notice.error({title:"系统提示！",desc:"图片大小不能超过1M！"}):this.$Notice.error({title:"系统提示！",desc:"请选择jpg、png图片！"})},handleBeforeUpload1:function(t){return this.ruleUpload(t,1),!1},handleBeforeUpload2:function(t){return this.ruleUpload(t,2),!1},handleBeforeUpload3:function(t){return this.ruleUpload(t,3),!1},handleBeforeUpload4:function(t){return this.ruleUpload(t,4),!1},handleBeforeUpload5:function(t){return this.ruleUpload(t,5),!1},getStorage:function(){},handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var a=e;a.$http.post({url:"doct-webManager/staff/registerStaff.jhtml",data:{name:localStorage.name,genderType:localStorage.gender,mobile:localStorage.phone,idNumber:a.formValidate.identity,memo:localStorage.synopsis,imageHead:localStorage.urlList0.slice(30),profDocterQualCer1:a.urlList[1],profDocterQualCer2:a.urlList[2],profDocterRegisterCer1:a.urlList[3],profDocterRegisterCer2:a.urlList[4],profTitleCer:a.urlList[5]},success:function(t){0!==t.code?a.$Notice.error({title:"系统提示！",desc:t.desc}):a.$router.push("/addDoctorf")}})}else e.$Message.error("请填写完整！")})},jump:function(){var t=this;t.$http.post({url:"doct-webManager/staff/registerStaff.jhtml",data:{name:localStorage.name,genderType:localStorage.gender,mobile:localStorage.phone,memo:localStorage.synopsis,imageHead:localStorage.urlList0.slice(30)},success:function(e){0!==e.code?t.$Notice.error({title:"系统提示！",desc:e.desc}):t.$router.push("/addDoctorf")}})},handleRemove:function(t){this.urlList.splice(t,1,""),this.dataList.splice(t,1,""),this.$emit("setPhotoList",this.dataList)}}}},"8kFE":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-container"},[a("h2",{staticClass:"view-title"},[t._v("添加医生")]),t._v(" "),a("div",{staticClass:"container-main"},[t._m(0),t._v(" "),a("h2",{staticClass:"dcname"},[t._v(t._s(t.dcName))]),t._v(" "),a("Form",{ref:"formValidate",attrs:{model:t.formValidate,rules:t.ruleValidate,"label-width":160}},[a("FormItem",{staticStyle:{width:"368px",marginLeft:"-70px"},attrs:{label:"身份证号码",prop:"identity",rules:[{required:!0,message:"请输入身份证号码!"},{validator:function(t,e,a,i,o){var s=[];/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)||a("请输入正确的身份证号码!"),a(s)}}]}},[a("Input",{attrs:{placeholder:"请输入身份证号码"},model:{value:t.formValidate.identity,callback:function(e){t.formValidate.identity=e},expression:"formValidate.identity"}})],1),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"upload-photo-item"},[a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload1,type:"drag",action:"//"}},[a("div",{staticClass:"photo-content"},[a("div",{staticClass:"photo-icon"}),t._v(" "),a("p",[t._v("上传照片")])])]),t._v(" "),a("p",{staticClass:"photo-msg"},[t._v("职业医师资格证(1)")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[1],expression:"urlList[1]"}],staticClass:"photo-list"},[a("img",{attrs:{src:t.urlList[1]}}),t._v(" "),a("div",{staticClass:"upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(1)}}})],1)])],1),t._v(" "),a("div",{staticClass:"upload-photo-item"},[a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload2,type:"drag",action:"//"}},[a("div",{staticClass:"photo-content"},[a("div",{staticClass:"photo-icon"}),t._v(" "),a("p",[t._v("上传照片")])])]),t._v(" "),a("p",{staticClass:"photo-msg"},[t._v("职业医师资格证(2)")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[2],expression:"urlList[2]"}],staticClass:"photo-list"},[a("img",{attrs:{src:t.urlList[2]}}),t._v(" "),a("div",{staticClass:"upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(2)}}})],1)])],1),t._v(" "),a("br"),a("br"),t._v(" "),a("div",{staticClass:"upload-photo-item"},[a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload3,type:"drag",action:"//"}},[a("div",{staticClass:"photo-content"},[a("div",{staticClass:"photo-icon"}),t._v(" "),a("p",[t._v("上传照片")])])]),t._v(" "),a("p",{staticClass:"photo-msg"},[t._v("职业医师注册证(1)")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[3],expression:"urlList[3]"}],staticClass:"photo-list"},[a("img",{attrs:{src:t.urlList[3]}}),t._v(" "),a("div",{staticClass:"upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(3)}}})],1)])],1),t._v(" "),a("div",{staticClass:"upload-photo-item"},[a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload4,type:"drag",action:"//"}},[a("div",{staticClass:"photo-content"},[a("div",{staticClass:"photo-icon"}),t._v(" "),a("p",[t._v("上传照片")])])]),t._v(" "),a("p",{staticClass:"photo-msg"},[t._v("职业医师注册证(2)")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[4],expression:"urlList[4]"}],staticClass:"photo-list"},[a("img",{attrs:{src:t.urlList[4]}}),t._v(" "),a("div",{staticClass:"upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(4)}}})],1)])],1),a("br"),a("br"),a("br"),t._v(" "),a("div",{staticClass:"upload-photo-item"},[a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload5,type:"drag",action:"//"}},[a("div",{staticClass:"photo-content"},[a("div",{staticClass:"photo-icon"}),t._v(" "),a("p",[t._v("上传照片")])])]),t._v(" "),a("p",{staticClass:"photo-msg"},[t._v("职称证")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[5],expression:"urlList[5]"}],staticClass:"photo-list"},[a("img",{attrs:{src:t.urlList[5]}}),t._v(" "),a("div",{staticClass:"upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(5)}}})],1)])],1),t._v(" "),a("br"),a("br"),t._v(" "),a("p",{staticStyle:{color:"#999999"}},[t._v("以上证书只做认证，不向用户展示")])],1),t._v(" "),a("p",{staticClass:"step",staticStyle:{marginTop:"50px"}},[a("span",{staticStyle:{backgroundColor:"#53a5f8",borderRadius:"3px"},on:{click:function(e){t.handleSubmit("formValidate")}}},[t._v("提交认证")]),t._v(" "),a("span",{staticStyle:{borderRadius:"3px"},on:{click:function(e){t.jump()}}},[t._v(" 跳过认证")])])],1)])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"step"},[a("span",{staticStyle:{backgroundColor:"#53a5f8"}},[t._v("1.基本资料")]),t._v(" "),a("span",[t._v("3.添加完成")])])}],s={render:i,staticRenderFns:o};e.a=s},T4Pr:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".container-main[data-v-66b4d12e]{padding-left:230px;padding-top:200px}.step>span[data-v-66b4d12e]{display:inline-block;width:100px;height:30px;background-color:#999;color:#fff;line-height:30px;text-align:center;margin-bottom:100px;margin-right:30px;cursor:pointer}.dcname[data-v-66b4d12e]{margin-bottom:30px}",""])},XJiL:function(t,e,a){var i=a("T4Pr");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("25f8c0c7",i,!0)},y5kO:function(t,e,a){"use strict";function i(t){a("XJiL")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("0wuf"),s=a("8kFE"),l=a("VU/8"),r=i,n=l(o.a,s.a,r,"data-v-66b4d12e",null);e.default=n.exports}});
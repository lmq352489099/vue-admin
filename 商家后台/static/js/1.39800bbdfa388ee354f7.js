webpackJsonp([1],{"+HD9":function(t,e,o){"use strict";var i=o("Hn7L"),a=o("WS8n"),r=o("d6c6");e.a={components:{cmptPhotoUpload:a.a,cmptTinymce:r.a,cmptProductChoose:i.a},data:function(){var t=this,e=function(e,o,i){if(""===o){var a=t.errorMsg.filter(function(t){return t.field===e.field})[0].text;i(new Error(a))}else i()},o=function(t,e,o){e>0?o():o(new Error("请输入商品原价！"))},i=function(t,e,o){e>0?o():o(new Error("请输入商品详情！"))},a=function(e,o,i){o>0?o<=t.formProduct.marketPrice?i():i(new Error("商品售价应≦原价！")):i(new Error("请输入商品售价！"))};return{title:"",editKey:!1,saveLoad:!1,companyName:sessionStorage.getItem("companyName"),formProduct:{productGoodId:"",isAudit:"",name:"",price:0,marketPrice:0,description:"",descriptionNum:"",expiyTime:1,category:"",staff:"",productGoodImages:"",size:"",unit:""},categoryName:"",editCategory:"",editPhoto:["","","","",""],doctorList:[],ruleForm:{name:[{validator:e,trigger:"blur"}],unit:[{validator:e,trigger:"blur"}],price:[{validator:a,trigger:"change"}],marketPrice:[{validator:o,trigger:"change"}],category:[{validator:e,trigger:"change"}],staff:[{validator:e,trigger:"change"}],productGoodImages:[{validator:e,trigger:"change"}],descriptionNum:[{validator:i,trigger:"change"}]},errorMsg:[{field:"name",text:"请输入产品名称！"},{field:"size",text:"请输入产品规格！"},{field:"unit",text:"请输入产品单位！"},{field:"category",text:"请选择项目类型！"},{field:"staff",text:"请添加医生！"},{field:"productGoodImages",text:"请添加产品展示图片！"},{field:"description",text:"请输入产品详细介绍！"}]}},computed:{count:function(){return 40-this.formProduct.name.length}},created:function(){"add"===this.$route.query.id?(this.title="发布商品",this.editKey=!1):(this.title="编辑商品",this.editKey=!0,this.formProduct.productGoodId=this.$route.query.id,this.getProductInfo())},mounted:function(){this.getDoctorList()},methods:{getProductInfo:function(){var t=this;t.$http.get({url:"doct-webManager/productGood/getProductGood.jhtml",data:{productGoodId:t.$route.query.id},success:function(e){var o=e.content.good||{},i=e.content.staff||{};t.editCategory=o.category||"",t.formProduct.name=o.name||"",t.formProduct.size=o.size||"",t.formProduct.unit=o.unit||"",t.formProduct.price=o.price||0,t.formProduct.marketPrice=o.marketPrice||0,t.formProduct.staff=i.id||"",o.productGoodImages.map(function(e,o){t.editPhoto.splice(o,1,e.medium)}),t.formProduct.description=o.description||"",t.formProduct.expiyTime=o.expiyTime||1}})},getDoctorList:function(){var t=this;t.$http.get({url:"doct-webManager/staff/get_staffs.jhtml",success:function(e){0===e.code&&(t.doctorList=e.content||[])}})},setPrice:function(t){var e=this;this.$nextTick(function(){e.formProduct.marketPrice=parseFloat(t.toFixed(2))})},setPrice2:function(t){var e=this;this.$nextTick(function(){e.formProduct.price=parseFloat(t.toFixed(2))})},setProductTree:function(t){this.formProduct.category=t.id,this.categoryName=t.name,this.$refs.formProduct.validateField("category")},handleClose:function(){this.formProduct.category="",this.categoryName=""},setPhotoList:function(t){var e=t.filter(function(t){return t.length>0});this.formProduct.productGoodImages=e.join(","),this.$refs.formProduct.validateField("productGoodImages")},validDes:function(t){this.formProduct.descriptionNum=t,this.$refs.formProduct.validateField("descriptionNum")},save:function(t){var e=this,o="",i="";1===t?(e.formProduct.isAudit=!1,o="doct-webManager/productGood/saveDraft.jhtml",i="draft"):2===t&&(e.editKey?(e.formProduct.isAudit=!0,o="doct-webManager/productGood/saveDraft.jhtml"):o="doct-webManager/productGood/create.jhtml",i="audit"),e.$refs.formProduct.validate(function(t){t&&(e.saveLoad=!0,e.formProduct.description=e.formProduct.description.replace(/data-mce-src="([^"]*)"/g,""),e.formProduct.name=e.formProduct.name.replace(/"/g,"'"),e.formProduct.size=e.formProduct.size.replace(/"/g,"'"),e.formProduct.unit=e.formProduct.unit.replace(/"/g,"'"),e.$http.post({url:o,data:e.formProduct,success:function(t){0===t.code?(e.$Notice.success({title:"系统提示！",desc:"操作成功！"}),e.$store.dispatch("setProductTabs",i),e.$router.go(-1)):e.$Notice.error({title:"系统提示！",desc:t.desc})}}))})}}}},"+wkB":function(t,e,o){var i=o("gqoy");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("6d40510a",i,!0)},"49+5":function(t,e,o){var i=o("PPtu");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("1c12e882",i,!0)},"5/XZ":function(t,e,o){"use strict";function i(t){o("uNhu")}var a=o("Sl0l"),r=o("GUJ5"),s=o("VU/8"),n=i,c=s(a.a,r.a,n,"data-v-73579c31",null);e.a=c.exports},"5mP0":function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,".productChoose .ivu-modal-body{padding:0}.productChoose .ivu-modal-footer{display:none}",""])},BVnp:function(t,e,o){var i=o("hwrS");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("78073b95",i,!0)},GUJ5:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"editorImage"}},[o("Button",{attrs:{type:"primary",icon:"ios-cloud-upload"},on:{click:t.upLoad}},[t._v("图片上传")]),t._v(" "),o("Modal",{attrs:{title:"图片上传","class-name":"vertical-center-modal"},on:{"on-ok":t.ok},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[t._l(t.showList,function(e,i){return o("div",{key:i,staticClass:"editor-upload-list"},[o("img",{attrs:{src:e}}),t._v(" "),o("div",{staticClass:"editor-upload-list-cover"},[o("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(i)}}})],1)])}),t._v(" "),o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"58px"},attrs:{"before-upload":t.handleBeforeUpload,type:"drag",action:"//"}},[o("div",{staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[o("Icon",{attrs:{type:"camera",size:"20"}})],1)])],2)],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},HOy6:function(t,e,o){"use strict";e.a={name:"photoUpload",props:{defaultValue:Array},data:function(){return{urlList:["","","","",""],dataList:["","","","",""]}},watch:{defaultValue:function(t){var e=this;t[0].length>0&&(this.dataList=t,t.map(function(t,o){t.length>0&&e.urlList.splice(o,1,e.baseImgURL+t)}),this.$emit("setPhotoList",this.dataList))}},computed:{baseImgURL:function(){return this.$store.getters.getBaseImgURL}},methods:{getObjectURL:function(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},saveFile:function(t,e){var o=this,i=new FormData;i.append("file",t),i.append("chunks","0"),i.append("token",o.$token.readToken("adminToken")),i.append("fileType","image"),o.$http.upload({url:"doct-webManager/mutual/upload.jhtml",data:i,success:function(t){0===t.code?(o.urlList.splice(e,1,o.baseImgURL+t.content),o.dataList.splice(e,1,t.content),o.$emit("setPhotoList",o.dataList)):o.$Notice.error({title:"系统提示！",desc:t.desc})}})},ruleUpload:function(t,e){/\.(jpg|png)$/.test(t.name.toLowerCase())?t.size<=1048576?this.saveFile(t,e):this.$Notice.error({title:"系统提示！",desc:"图片大小不能超过1M！"}):this.$Notice.error({title:"系统提示！",desc:"请选择jpg、png图片！"})},handleBeforeUpload:function(t){return this.ruleUpload(t,0),!1},handleBeforeUpload1:function(t){return this.ruleUpload(t,1),!1},handleBeforeUpload2:function(t){return this.ruleUpload(t,2),!1},handleBeforeUpload3:function(t){return this.ruleUpload(t,3),!1},handleBeforeUpload4:function(t){return this.ruleUpload(t,4),!1},handleRemove:function(t){this.urlList.splice(t,1,""),this.dataList.splice(t,1,""),this.$emit("setPhotoList",this.dataList)}}}},Hn7L:function(t,e,o){"use strict";function i(t){o("BVnp"),o("r3yg")}var a=o("z40L"),r=o("wTty"),s=o("VU/8"),n=i,c=s(a.a,r.a,n,"data-v-a9e7252e",null);e.a=c.exports},L57y:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"photo-upload"}},[o("div",{staticClass:"upload-photo-item"},[o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload,type:"drag",action:"//"}},[o("div",{staticClass:"photo-content"},[o("div",{staticClass:"photo-icon"}),t._v(" "),o("p",[t._v("上传照片")])])]),t._v(" "),o("p",{staticClass:"photo-msg"},[t._v("图一(封面)")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[0].length>0,expression:"urlList[0].length > 0"}],staticClass:"photo-list"},[o("img",{attrs:{src:t.urlList[0]}}),t._v(" "),o("div",{staticClass:"upload-list-cover"},[o("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(0)}}})],1)])],1),t._v(" "),o("div",{staticClass:"upload-photo-item"},[o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload1,type:"drag",action:"//"}},[o("div",{staticClass:"photo-content"},[o("div",{staticClass:"photo-icon"}),t._v(" "),o("p",[t._v("上传照片")])])]),t._v(" "),o("p",{staticClass:"photo-msg"},[t._v("图二")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[1].length>0,expression:"urlList[1].length > 0"}],staticClass:"photo-list"},[o("img",{attrs:{src:t.urlList[1]}}),t._v(" "),o("div",{staticClass:"upload-list-cover"},[o("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(1)}}})],1)])],1),t._v(" "),o("div",{staticClass:"upload-photo-item"},[o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload2,type:"drag",action:"//"}},[o("div",{staticClass:"photo-content"},[o("div",{staticClass:"photo-icon"}),t._v(" "),o("p",[t._v("上传照片")])])]),t._v(" "),o("p",{staticClass:"photo-msg"},[t._v("图三")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[2].length>0,expression:"urlList[2].length > 0"}],staticClass:"photo-list"},[o("img",{attrs:{src:t.urlList[2]}}),t._v(" "),o("div",{staticClass:"upload-list-cover"},[o("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(2)}}})],1)])],1),t._v(" "),o("div",{staticClass:"upload-photo-item"},[o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload3,type:"drag",action:"//"}},[o("div",{staticClass:"photo-content"},[o("div",{staticClass:"photo-icon"}),t._v(" "),o("p",[t._v("上传照片")])])]),t._v(" "),o("p",{staticClass:"photo-msg"},[t._v("图四")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[3].length>0,expression:"urlList[3].length > 0"}],staticClass:"photo-list"},[o("img",{attrs:{src:t.urlList[3]}}),t._v(" "),o("div",{staticClass:"upload-list-cover"},[o("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(3)}}})],1)])],1),t._v(" "),o("div",{staticClass:"upload-photo-item"},[o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":t.handleBeforeUpload4,type:"drag",action:"//"}},[o("div",{staticClass:"photo-content"},[o("div",{staticClass:"photo-icon"}),t._v(" "),o("p",[t._v("上传照片")])])]),t._v(" "),o("p",{staticClass:"photo-msg"},[t._v("图五")]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.urlList[4].length>0,expression:"urlList[4].length > 0"}],staticClass:"photo-list"},[o("img",{attrs:{src:t.urlList[4]}}),t._v(" "),o("div",{staticClass:"upload-list-cover"},[o("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleRemove(4)}}})],1)])],1)])},a=[],r={render:i,staticRenderFns:a};e.a=r},PPtu:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,".mce-wordcount.mce-widget.mce-label.mce-flow-layout-item{display:none}",""])},PpdC:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"view-container"},[o("h2",{staticClass:"view-title"},[t._v(t._s(t.title))]),t._v(" "),o("div",{staticClass:"container-main product"},[o("Form",{ref:"formProduct",attrs:{model:t.formProduct,rules:t.ruleForm,"label-width":120,"label-position":"left"}},[o("div",{staticClass:"product-item",staticStyle:{paddingTop:"25px"}},[o("h3",{staticClass:"item-title"},[t._v("\n                    基础信息\n                ")])]),t._v(" "),o("Form-item",{attrs:{label:"商品类型",required:""}},[o("span",{staticClass:"dot"},[t._v("服务产品")])]),t._v(" "),o("Form-item",{attrs:{label:"所属医院",required:""}},[o("span",{staticClass:"msg"},[t._v(t._s(t.companyName))])]),t._v(" "),o("Form-item",{attrs:{label:"项目类型",required:"",prop:"category"}},[t.formProduct.category?o("Tag",{attrs:{closable:""},on:{"on-close":t.handleClose}},[t._v(t._s(t.categoryName))]):t._e(),t._v(" "),o("cmptProductChoose",{attrs:{defaultValue:t.editCategory},on:{setProductTree:t.setProductTree}}),t._v(" "),o("span",{staticClass:"remark"},[t._v("注：该商品所包含的项目")])],1),t._v(" "),o("Form-item",{attrs:{label:"产品名称",required:"",prop:"name"}},[o("Input",{staticStyle:{width:"368px"},attrs:{placeholder:"请输入名称，例如：【瑞白颜玻尿酸1ml】原装正品支持当场检验",maxlength:40},model:{value:t.formProduct.name,callback:function(e){t.formProduct.name="string"==typeof e?e.trim():e},expression:"formProduct.name"}}),t._v(" "),o("span",{staticClass:"alert"},[t._v(t._s(t.count)+"字")]),t._v(" "),o("p",{staticClass:"example"},[t._v("示例：【瑞白颜玻尿酸1ml】原装正品支持当场检验")])],1),t._v(" "),o("Form-item",{attrs:{label:"产品规格",prop:"size"}},[o("Input",{staticStyle:{width:"368px"},attrs:{placeholder:"请输入产品规格",maxlength:10},model:{value:t.formProduct.size,callback:function(e){t.formProduct.size="string"==typeof e?e.trim():e},expression:"formProduct.size"}})],1),t._v(" "),o("Form-item",{attrs:{label:"产品单位",required:"",prop:"unit"}},[o("Input",{staticStyle:{width:"368px"},attrs:{placeholder:"请输入产品单位",maxlength:10},model:{value:t.formProduct.unit,callback:function(e){t.formProduct.unit="string"==typeof e?e.trim():e},expression:"formProduct.unit"}})],1),t._v(" "),o("div",{staticClass:"product-item"},[o("h3",{staticClass:"item-title"},[t._v("\n                    价格设置\n                ")])]),t._v(" "),o("Form-item",{attrs:{label:"原价",required:"",prop:"marketPrice"}},[o("InputNumber",{staticStyle:{width:"150px"},attrs:{max:1e6,min:0},on:{"on-change":t.setPrice},model:{value:t.formProduct.marketPrice,callback:function(e){t.formProduct.marketPrice=e},expression:"formProduct.marketPrice"}}),t._v(" "),o("span",{staticClass:"alert"},[t._v("元")])],1),t._v(" "),o("Form-item",{attrs:{label:"售价",required:"",prop:"price"}},[o("InputNumber",{staticStyle:{width:"150px"},attrs:{max:1e6,min:0},on:{"on-change":t.setPrice2},model:{value:t.formProduct.price,callback:function(e){t.formProduct.price=e},expression:"formProduct.price"}}),t._v(" "),o("span",{staticClass:"alert"},[t._v("元")]),t._v(" "),o("span",{staticClass:"remark"},[t._v("注：售价应<=原价")])],1),t._v(" "),o("div",{staticClass:"product-item"},[o("h3",{staticClass:"item-title"},[t._v("\n                    医生设置\n                ")])]),t._v(" "),o("Form-item",{attrs:{label:"添加医生",prop:"staff",required:""}},[o("Select",{staticStyle:{width:"368px"},model:{value:t.formProduct.staff,callback:function(e){t.formProduct.staff=e},expression:"formProduct.staff"}},t._l(t.doctorList,function(e){return o("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1),t._v(" "),o("p",{staticClass:"example diff"},[t._v("1.可选择项目治疗医生，顾客在APP中可直接查看；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("2.医生可使用配套的医生APP注册认证使用，也可在员工管理中发送邀请短信；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("3.医生选自员工列表；")]),t._v(" "),o("div",{staticClass:"product-item"},[o("h3",{staticClass:"item-title"},[t._v("\n                    展示图片\n                ")])]),t._v(" "),o("Form-item",{attrs:{prop:"productGoodImages"}},[o("cmptPhotoUpload",{attrs:{defaultValue:t.editPhoto},on:{setPhotoList:t.setPhotoList}})],1),t._v(" "),o("p",{staticClass:"example diff"},[t._v("1.请至少上传一张图片；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("2.图片文件大小不能超过1M；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("3.图片必须为正方形且大小必须大于或等于400*400；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("4.支持jpg、png格式；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("5.请上传具有版权的图片；")]),t._v(" "),o("div",{staticClass:"product-item"},[o("h3",{staticClass:"item-title"},[t._v("\n                    详情介绍\n                ")])]),t._v(" "),o("Form-item",{attrs:{prop:"descriptionNum"}},[o("cmptTinymce",{attrs:{height:200},on:{valid:t.validDes},model:{value:t.formProduct.description,callback:function(e){t.formProduct.description=e},expression:"formProduct.description"}})],1),t._v(" "),o("p",{staticClass:"example diff"},[t._v("1.禁止留微信、QQ、电话等联系方式；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("2.产品详情如有价格应与提报价一致；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("3.假体隆鼻或隆下巴隆胸等需放假体项目必须写明假体的品牌；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("4.手术类项目必须写明提报价有无包含麻醉费用或其他隐形消费；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("5.不能含有“最”字比如“最好”等字眼；")]),t._v(" "),o("p",{staticClass:"example diff"},[t._v("6.上传图片尺寸宽度为706px；")]),t._v(" "),o("div",{staticClass:"product-item"},[o("h3",{staticClass:"item-title"},[t._v("\n                    购买须知\n                ")])]),t._v(" "),o("Form-item",{attrs:{label:"1.消费流程"}},[o("div",{staticClass:"step"},[o("span",[t._v("①提交订单")]),t._v(" "),o("span",[t._v("②在线支付")]),t._v(" "),o("span",[t._v("③到院治疗")]),t._v(" "),o("span",[t._v("④评价分享")])])]),t._v(" "),o("Form-item",{attrs:{label:"2.有效期",prop:"expiyTime"}},[o("RadioGroup",{model:{value:t.formProduct.expiyTime,callback:function(e){t.formProduct.expiyTime=e},expression:"formProduct.expiyTime"}},[o("Radio",{attrs:{label:1}},[t._v("一个月")]),t._v(" "),o("Radio",{attrs:{label:2}},[t._v("两个月")]),t._v(" "),o("Radio",{attrs:{label:3}},[t._v("三个月")]),t._v(" "),o("Radio",{attrs:{label:6}},[t._v("六个月")])],1)],1),t._v(" "),o("Form-item",{attrs:{label:"3.营业时间"}},[o("span",{staticClass:"msg"},[t._v("医院营业时间内皆可使用。")])]),t._v(" "),o("Form-item",{attrs:{label:"3.消费须知"}},[o("span",{staticClass:"msg",staticStyle:{width:"414px"}},[t._v("支持预约，请在“我的订单”中预约使用或到店告知手机号码使用如在使用过程中有任何疑问，请致电悦完美客服：0592-6212592，在不违反现行法律、法规要求前提下，本活动有医院方进行说明。")])])],1),t._v(" "),o("div",{staticClass:"main-footer-btn"},[o("Button",{attrs:{type:"primary",loading:t.saveLoad},on:{click:function(e){t.save(2)}}},[t._v("提交审核")])],1)],1)])},a=[],r={render:i,staticRenderFns:a};e.a=r},Sl0l:function(t,e,o){"use strict";e.a={name:"editorImage",data:function(){return{modal:!1,showList:[]}},computed:{baseImgURL:function(){return this.$store.getters.getBaseImgURL}},methods:{upLoad:function(){this.modal=!0},ok:function(){this.$emit("successCBK",this.showList)},getObjectURL:function(t){var e=null;return void 0!=window.createObjectURL?e=window.createObjectURL(t):void 0!=window.URL?e=window.URL.createObjectURL(t):void 0!=window.webkitURL&&(e=window.webkitURL.createObjectURL(t)),e},handleBeforeUpload:function(t){return this.saveFile(t),!1},saveFile:function(t){var e=this,o=new FormData;o.append("file",t),o.append("chunks","0"),o.append("token",e.$token.readToken("adminToken")),o.append("fileType","image"),e.$http.upload({url:"doct-webManager/mutual/upload.jhtml",data:o,success:function(t){0===t.code?e.showList.push(e.baseImgURL+t.content):e.$Notice.error({title:"系统提示！",desc:t.desc})}})},handleRemove:function(t){this.showList.splice(t,1)}}}},WS8n:function(t,e,o){"use strict";var i=o("HOy6"),a=o("L57y"),r=o("VU/8"),s=r(i.a,a.a,null,null,null);e.a=s.exports},YpLE:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,".tinymce-container[data-v-307a6fd2]{position:relative}.tinymce-textarea[data-v-307a6fd2]{visibility:hidden;z-index:-1}.editor-custom-btn-container[data-v-307a6fd2]{position:absolute;right:15px;top:18px}.editor-upload-btn[data-v-307a6fd2]{display:inline-block}",""])},bFeP:function(t,e,o){"use strict";var i=o("5/XZ");e.a={name:"tinymce",components:{editorImage:i.a},props:{id:{type:String},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return["removeformat undo redo |  bullist numlist | outdent indent | forecolor | fullscreen code","bold italic blockquote | h2 p link | alignleft aligncenter alignright"]}},menubar:{default:""},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,num:0,tinymceId:this.id||"vue-tinymce-"+ +new Date}},watch:{value:function(t){var e=this;this.num='<p><br data-mce-bogus="1"></p>'===t||"<p><br></p>"===t?0:t.length,this.$emit("valid",this.num),!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t)})}},computed:{countNum:function(){return 1e4-this.num}},mounted:function(){var t=this,e=this;window.tinymce.init({selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar,menubar:this.menubar,plugins:"advlist,autolink,code,paste,textcolor, colorpicker,fullscreen,link,lists,wordcount, imagetools",end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",block_formats:"普通标签=p;小标题=h2;",imagetools_cors_hosts:["wpimg.wallstcn.com","wallstreetcn.com"],imagetools_toolbar:"watermark",default_link_target:"_blank",link_title:!1,init_instance_callback:function(o){e.value&&o.setContent(e.value),e.hasInit=!0,o.on("NodeChange Change KeyUp",function(){t.hasChange=!0,t.$emit("input",o.getContent({format:"raw"}))})},setup:function(t){t.addButton("h2",{title:"小标题",text:"小标题",onclick:function(){t.execCommand("mceToggleFormat",!1,"h2")},onPostRender:function(){var e=this;t.on("init",function(){t.formatter.formatChanged("h2",function(t){e.active(t)})})}}),t.addButton("p",{title:"正文",text:"正文",onclick:function(){t.execCommand("mceToggleFormat",!1,"p")},onPostRender:function(){var e=this;t.on("init",function(){t.formatter.formatChanged("p",function(t){e.active(t)})})}})}})},methods:{imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img src="'+t+'" >')})}},destroyed:function(){window.tinymce.get(this.tinymceId).destroy()}}},cB90:function(t,e,o){"use strict";function i(t){o("+wkB")}Object.defineProperty(e,"__esModule",{value:!0});var a=o("+HD9"),r=o("PpdC"),s=o("VU/8"),n=i,c=s(a.a,r.a,n,"data-v-53b8afcb",null);e.default=c.exports},d6c6:function(t,e,o){"use strict";function i(t){o("fnSO"),o("49+5")}var a=o("bFeP"),r=o("lXcl"),s=o("VU/8"),n=i,c=s(a.a,r.a,n,"data-v-307a6fd2",null);e.a=c.exports},fnSO:function(t,e,o){var i=o("YpLE");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("737a6911",i,!0)},gqoy:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,'.product[data-v-53b8afcb]{padding-bottom:90px}.product .item-title[data-v-53b8afcb]{height:52px;margin-bottom:25px;font-size:16px;line-height:52px;font-weight:400;color:#333;border-bottom:1px solid #e5e5e5}.product .dot[data-v-53b8afcb]{width:80px;height:26px;line-height:26px;text-align:center;background:#f4f4f4;border-radius:4px}.product .alert[data-v-53b8afcb],.product .dot[data-v-53b8afcb],.product .msg[data-v-53b8afcb],.product .remark[data-v-53b8afcb]{display:inline-block;font-size:14px;color:#333;vertical-align:middle}.product .remark[data-v-53b8afcb]{margin-left:13px;color:#9e9e9e}.product .example[data-v-53b8afcb]{font-size:14px;line-height:20px;color:#9e9e9e}.product .diff[data-v-53b8afcb]{padding-left:120px}.product .alert[data-v-53b8afcb]{margin-left:10px;color:#757575}.product .step[data-v-53b8afcb]{position:relative;display:inline-block;height:33px;border-left:1px solid #e0e6ed;border-top:1px solid #e0e6ed;border-bottom:1px solid #e0e6ed;border-radius:4px}.step span[data-v-53b8afcb]{position:relative;display:inline-block;width:100px;height:31px;font-size:14px;line-height:31px;text-align:center;color:#333;background-color:#fbfbfb}.step span[data-v-53b8afcb]:after{content:"";display:inline-block;position:absolute;background-color:#fbfbfb;width:23px;height:23px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-top:1px solid #e0e6ed;border-right:1px solid #e0e6ed;top:4px;right:-9px;border-radius:4px;z-index:2}',""])},hwrS:function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,"#productChoose[data-v-a9e7252e]{display:inline-block}#productChoose .add-charge[data-v-a9e7252e]{display:inline-block;vertical-align:middle;width:56px;height:22px;font-size:12px;line-height:22px;text-align:center;color:#55a8fd;border:1px solid #55a8fd;border-style:dashed;border-radius:4px;cursor:pointer}.productChoose-main[data-v-a9e7252e]{position:relative;overflow:hidden}.productChoose-nav[data-v-a9e7252e]{width:110px;background-color:#fff}.productChoose-con[data-v-a9e7252e],.productChoose-nav[data-v-a9e7252e]{float:left;height:369px;overflow-y:auto}.productChoose-con[data-v-a9e7252e]{width:490px;padding:0 15px}.productChoose-nav ul[data-v-a9e7252e]{list-style:none}.productChoose-nav li[data-v-a9e7252e]{position:relative;padding:13px;font-size:14px;line-height:20px;text-align:center;letter-spacing:.45px;color:#333;cursor:pointer}.productChoose-nav .active[data-v-a9e7252e],.productChoose-nav li[data-v-a9e7252e]:hover{color:#55a8fd;background:#e3f1ff;-webkit-box-shadow:inset 2px 0 0 0 #55a8fd;box-shadow:inset 2px 0 0 0 #55a8fd}.product-item[data-v-a9e7252e]{padding:5px 0;border-bottom:1px solid #e5e5e5}.product-item p[data-v-a9e7252e]{font-size:12px;line-height:32px;letter-spacing:.39px;color:#333}.product-item span[data-v-a9e7252e]{display:inline-block;padding:3.5px 12px;margin:0 10px 10px 0;border:1px solid #e5e5e5;font-size:12px;line-height:17px;text-align:center;letter-spacing:.33px;color:#757575;background:#fff;border-radius:4px;cursor:pointer}.product-item span[data-v-a9e7252e]:hover{color:#55a8fd;border:1px solid #55a8fd}",""])},lXcl:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"tinymce-container editor-container"},[o("textarea",{staticClass:"tinymce-textarea",attrs:{id:t.tinymceId}}),t._v(" "),o("p",{staticStyle:{textAlign:"right"}},[t._v("剩余"+t._s(t.countNum)+"字")]),t._v(" "),o("div",{staticClass:"editor-custom-btn-container"},[o("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#20a0ff"},on:{successCBK:t.imageSuccessCBK}})],1)])},a=[],r={render:i,staticRenderFns:a};e.a=r},r3yg:function(t,e,o){var i=o("5mP0");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("0d22df2d",i,!0)},"uF/Y":function(t,e,o){e=t.exports=o("FZ+f")(!1),e.push([t.i,".editor-upload-list[data-v-73579c31]{display:inline-block;width:120px;height:120px;text-align:center;line-height:120px;border:1px solid transparent;border-radius:4px;overflow:hidden;background:#fff;position:relative;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.2);box-shadow:0 1px 1px rgba(0,0,0,.2);margin:0 10px 20px}.editor-upload-list img[data-v-73579c31]{display:block;width:100%;height:100%}.editor-upload-list-cover[data-v-73579c31]{display:none;position:absolute;top:0;bottom:0;left:0;right:0;background:rgba(0,0,0,.6)}.editor-upload-list:hover .editor-upload-list-cover[data-v-73579c31]{display:block}.editor-upload-list-cover i[data-v-73579c31]{color:#fff;font-size:20px;cursor:pointer;margin:0 2px}",""])},uNhu:function(t,e,o){var i=o("uF/Y");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);o("rjj0")("59bd8893",i,!0)},wTty:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"productChoose"}},[o("div",{staticClass:"add-charge",on:{click:t.open}},[o("Icon",{attrs:{type:"plus-round"}}),t._v("\n        标签\n    ")],1),t._v(" "),o("Modal",{attrs:{title:"项目类型",width:600,"class-name":"vertical-center-modal productChoose"},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[o("div",{staticClass:"productChoose-main"},[o("div",{staticClass:"productChoose-nav"},[o("ul",t._l(t.productList,function(e,i){return o("li",{key:i,class:[t.navIndex===i?"active":""],on:{click:function(e){t.filterSecond(i)}}},[t._v(t._s(e.name))])}))]),t._v(" "),o("div",{staticClass:"productChoose-con"},t._l(t.mainList,function(e,i){return o("div",{key:i,staticClass:"product-item"},[o("p",[t._v(t._s(e.name))]),t._v(" "),o("div",{staticClass:"product-list"},t._l(e.children,function(e,i){return o("span",{key:i,on:{click:function(o){t.chooseTree(e)}}},[t._v(t._s(e.name))])}))])}))])])],1)},a=[],r={render:i,staticRenderFns:a};e.a=r},z40L:function(t,e,o){"use strict";e.a={name:"productChoose",props:{defaultValue:String},data:function(){return{modal:!1,defaultList:[],productList:[],navIndex:0,mainList:[]}},watch:{defaultValue:function(t){if(this.defaultList.length>0){var e=this.defaultList.filter(function(e){return e.id===1*t.split(",")[3]});this.$emit("setProductTree",{name:e[0].name,id:t})}},defaultList:function(t){var e=this;if(this.defaultValue.length>0){var o=this.defaultList.filter(function(t){return t.id===1*e.defaultValue.split(",")[3]});this.$emit("setProductTree",{name:o[0].name,id:t})}}},mounted:function(){this.getList()},methods:{getList:function(){var t=this;t.$http.get({url:"doct-webManager/productGoodCategory/getCategory.jhtml",success:function(e){0===e.code&&(t.defaultList=e.content||[],t.productList=t.setTreeData(t.defaultList),t.productList.length&&t.filterSecond(0),t.navIndex=0)}})},setTreeData:function(t){var e=t.filter(function(t){return 0===t.grade});return e.map(function(e){var o=t.filter(function(t){if(1===t.grade&&t.treePath.split(",")[1]===e.id+"")return t});o.map(function(e){var o=t.filter(function(t){if(2===t.grade&&t.treePath.split(",")[2]===e.id+"")return t});e.children=o}),e.children=o}),e},filterSecond:function(t){this.navIndex=t,this.mainList=this.productList[t].children},chooseTree:function(t){this.$emit("setProductTree",{name:t.name,id:t.treePath+t.id+","}),this.modal=!1},open:function(){this.modal=!0}}}}});
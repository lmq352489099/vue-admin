webpackJsonp([29],{"1khF":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("h2",{staticClass:"view-title"},[e._v("疗程列表")]),e._v(" "),a("div",{staticClass:"container-main"},[a("div",{staticClass:"data-list"},[a("div",[a("span",{staticStyle:{"margin-right":"10px"}},[e._v("数据列表")]),e._v(" "),a("Button",{attrs:{type:"ghost"}},[e._v("邀请绑定")])],1)]),e._v(" "),a("div",{class:["main-search-box",e.searchKey?"":"up"]},[a("div",{staticClass:"main-search-title"},[e._v("筛选查询")]),e._v(" "),e.searchKey?a("div",{staticClass:"search-show-btn-down",on:{click:function(t){e.changeSearch(!1)}}},[e._v("收起筛选"),a("span")]):e._e(),e._v(" "),e.searchKey?e._e():a("div",{staticClass:"search-show-btn-up",on:{click:function(t){e.changeSearch(!0)}}},[e._v("展开筛选"),a("span")]),e._v(" "),a("Form",{directives:[{name:"show",rawName:"v-show",value:e.searchKey,expression:"searchKey"}],ref:"formSearch",attrs:{model:e.formSearch,inline:"","label-width":120}},[a("FormItem",{attrs:{label:"搜索",prop:"serial"}},[a("Input",{attrs:{placeholder:"商品名称、编号",maxlength:20},model:{value:e.formSearch.serial,callback:function(t){e.formSearch.serial="string"==typeof t?t.trim():t},expression:"formSearch.serial"}})],1),e._v(" "),a("form-item",{attrs:{label:"绑定状态",prop:"userGrade"}},[a("i-select",{attrs:{placeholder:"绑定状态"},model:{value:e.formSearch.state,callback:function(t){e.formSearch.state=t},expression:"formSearch.state"}},[a("i-option",{attrs:{value:"0"}}),e._v(" "),a("i-option",{attrs:{value:"1"}}),e._v(" "),a("i-option",{attrs:{value:"2"}})],1)],1),e._v(" "),a("FormItem",{attrs:{label:"售价"}},[a("Input",{staticStyle:{width:"80px"},attrs:{placeholder:"最低价"},model:{value:e.formSearch.minPrice,callback:function(t){e.formSearch.minPrice="string"==typeof t?t.trim():t},expression:"formSearch.minPrice"}}),e._v(" "),a("Input",{staticStyle:{width:"80px"},attrs:{placeholder:"最高价"},model:{value:e.formSearch.maxPrice,callback:function(t){e.formSearch.maxPrice="string"==typeof t?t.trim():t},expression:"formSearch.maxPrice"}})],1),e._v(" "),a("FormItem",[a("Button",{staticClass:"refresh",attrs:{type:"ghost"},on:{click:function(t){e.refresh("formSearch")}}},[e._v("重置")]),e._v(" "),a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formSearch")}}},[e._v("检索")])],1)],1)],1),e._v(" "),a("Table",{attrs:{columns:e.col,data:e.data,loading:e.tableLoad}}),e._v(" "),a("Page",{attrs:{total:e.total,current:e.pageNumber,"page-size":e.pageSize},on:{"on-change":e.changePage}})],1),e._v(" "),a("Modal",{attrs:{title:"系统提示",loading:e.loading,"class-name":"vertical-center-modal"},on:{"on-ok":e.ok},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("p",[e._v("您确定要邀请"+e._s(e.bindUser.name)+"绑定医院吗？")]),e._v(" "),a("p",[e._v("一天只能邀请一次！")])])],1)},i=[],n={render:r,staticRenderFns:i};t.a=n},XQqf:function(e,t,a){"use strict";t.a={data:function(){var e=this;return{searchKey:!0,formSearch:{serial:"",state:"",minPrice:"",maxPrice:""},pageNumber:1,total:0,modal:!1,loading:!0,tableLoad:!1,bindUser:{mobile:"",companyUserId:"",name:""},col:[{title:"顾客姓名",render:function(t,a){return t("span",{on:{click:function(){e.toCusIndex(a.row)}},style:{cursor:"pointer",color:"#55a8fd"}},[t("span",a.row.name)])}},{title:"手机号码",key:"mobile"},{title:"项目名称",key:"treatName"},{title:"项目类型",key:"treatType"},{title:"规格",render:function(e,t){return t.row.treatSize?e("span",t.row.treatSize):e("span","--")}},{title:"数量",key:"treateNum"},{title:"指定医生",key:"treateUserName"},{title:"提交时间",key:"treatCreateTime"},{title:"同步时间",key:"modifyDate"},{title:"绑定状态",width:110,render:function(t,a){return 2===a.row.userBindStatus?t("div",{class:"invited-word-btn"},"已邀请"):0===a.row.userBindStatus||1===a.row.userBindStatus?t("div",{class:"invite-word-btn",on:{click:function(){e.bind(a.row)}}},"邀请绑定"):5===a.row.userBindStatus?t("span",{style:{fontSize:"14px",color:"#9e9e9e"}},"已绑定"):void 0}}],data:[]}},computed:{pageSize:function(){return this.$store.getters.getPageSize}},mounted:function(){this.getList(1)},methods:{changeSearch:function(e){this.searchKey=e},handleSubmit:function(){},refresh:function(){this.$refs.formSearch.resetFields(),this.formSearch.minPrice=null,this.formSearch.maxPrice=null},getList:function(e){var t=this;t.tableLoad=!0,t.$http.get({url:"doct-webManager/guardTreatment/getPage.jhtml",data:{pageNumber:e,pageSize:t.pageSize},success:function(e){0===e.code&&(t.data=e.content.page.content||[],t.pageNumber=e.content.page.pageNumber||1,t.total=e.content.page.total||0),t.tableLoad=!1}})},changePage:function(e){this.getList(e)},bind:function(e){this.bindUser.mobile=e.mobile,this.bindUser.companyUserId=e.companyCreateUserId,this.bindUser.name=e.name,this.modal=!0},ok:function(){var e=this;e.$http.post({url:"doct-webManager/guard_user/sendInvitedSmsByTreatmentOnce.jhtml",data:e.bindUser,success:function(t){0===t.content.code?(e.$Notice.success({title:"系统提示！",desc:"邀请成功！"}),e.getList(e.pageNumber)):e.$Notice.error({title:"系统提示！",desc:t.content.desc}),e.modal=!1}})},toCusIndex:function(e){var t=e.userId||"";this.$router.push({path:"/customerInfo",query:{name:e.name,id:e.companyCreateUserId,mobile:e.mobile,userId:t,status:e.userBindStatus}})}}}},"cB+B":function(e,t,a){"use strict";function r(e){a("t4Bk")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("XQqf"),n=a("1khF"),s=a("VU/8"),o=r,c=s(i.a,n.a,o,"data-v-6c95b7d8",null);t.default=c.exports},t4Bk:function(e,t,a){var r=a("vWEb");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("rjj0")("2e4dd57c",r,!0)},vWEb:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".data-list[data-v-6c95b7d8]{margin-bottom:10px}",""])}});
webpackJsonp([36],{"3c4X":function(t,e,a){"use strict";function n(t){a("jxcu")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("M4Zm"),o=a("D1xa"),r=a("VU/8"),c=n,s=r(i.a,o.a,c,"data-v-be966c2c",null);e.default=s.exports},D1xa:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view-container"},[a("h2",{staticClass:"view-title"},[t._v("商品列表")]),t._v(" "),a("Tabs",{attrs:{type:"card",animated:!1,value:t.labelActive}},[a("TabPane",{attrs:{label:t.label1,name:"audit"}},[a("div",{staticClass:"container-main"},[a("div",{staticClass:"add-product"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.toView(1)}}},[t._v("发布商品")])],1),t._v(" "),a("Table",{attrs:{columns:t.col,data:t.data}})],1)]),t._v(" "),a("TabPane",{attrs:{label:t.label2,name:"draft"}},[a("div",{staticClass:"container-main"},[a("div",{staticClass:"add-product"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.toView(1)}}},[t._v("发布商品")])],1),t._v(" "),a("Table",{attrs:{columns:t.col1,data:t.data1}})],1)])],1),t._v(" "),a("Modal",{attrs:{title:"系统提示",loading:t.loading,"class-name":"vertical-center-modal"},on:{"on-ok":t.ok},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("p",[t._v("确定撤销商品?")]),t._v(" "),a("p",[t._v("商品名称："+t._s(t.productInfo.name))])])],1)},i=[],o={render:n,staticRenderFns:i};e.a=o},KQAN:function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".add-product[data-v-be966c2c]{margin-bottom:21px;text-align:right}",""])},M4Zm:function(t,e,a){"use strict";e.a={data:function(){var t=this;return{modal:!1,loading:!0,productInfo:{productGoodId:"",name:""},col:[{title:"产品名称",key:"name"},{title:"状态",render:function(t,e){return t("span","待审核")}},{title:"提交医院",render:function(t,e){return t("span",sessionStorage.getItem("companyName"))}},{title:"提交时间",key:"createDate"},{title:"操作",key:"action",width:150,align:"center",render:function(e,a){return e("div",[e("div",{class:"cancel-btn",on:{click:function(){t.remove(a.row)}}})])}}],col1:[{title:"产品名称",key:"name"},{title:"状态",render:function(t,e){return t("span","草稿")}},{title:"提交医院",render:function(t,e){return t("span",sessionStorage.getItem("companyName"))}},{title:"提交时间",key:"createDate"},{title:"操作",key:"action",width:150,align:"center",render:function(e,a){return e("div",[e("div",{class:"edit-btn",style:{marginRight:"14px"},on:{click:function(){t.toView(a.row)}}}),e("div",{class:"cancel-btn",on:{click:function(){t.remove(a.row)}}})])}}],data:[],data1:[]}},computed:{label1:function(){return this.data.length>0?"审核中("+this.data.length+")":"审核中"},label2:function(){return this.data1.length>0?"草稿("+this.data1.length+")":"草稿"},labelActive:function(){return this.$store.getters.getProductTabs}},created:function(){this.$route.query.active&&(this.labelActive=this.$route.query.active),this.getList()},methods:{getList:function(){var t=this;t.$http.get({url:"doct-webManager/productGood/list.jhtml",success:function(e){if(0===e.code){var a=e.content.filter(function(t){if(2===t.status)return t.timeSort=new Date(t.createDate),t})||[],n=e.content.filter(function(t){if(0===t.status)return t.timeSort=new Date(t.createDate),t})||[];t.data=a.sort(function(t,e){return e.timeSort-t.timeSort}),t.data1=n.sort(function(t,e){return e.timeSort-t.timeSort})}}})},remove:function(t){this.productInfo.name=t.name,this.productInfo.productGoodId=t.id,this.modal=!0},ok:function(){var t=this;t.$http.post({url:"doct-webManager/productGood/del.jhtml",data:t.productInfo,success:function(e){0===e.code?(t.$Notice.success({title:"系统提示！",desc:"操作成功！"}),t.getList()):t.$Notice.error({title:"系统提示！",desc:e.desc}),t.modal=!1}})},toView:function(t){var e="";e="number"==typeof t?"add":t.id,this.$router.push({path:"/productEdit",query:{id:e}})}}}},jxcu:function(t,e,a){var n=a("KQAN");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("3a3169fa",n,!0)}});
webpackJsonp([24],{"8vcM":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view-container"},[a("h2",{staticClass:"view-title"},[e._v("添加医生")]),e._v(" "),a("div",{staticClass:"container-main"},[e._m(0),e._v(" "),a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":160}},[a("FormItem",{attrs:{label:"医生照片",prop:"logo",required:""}},[a("div",{staticClass:"upload-photo-item"},[a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"96px"},attrs:{"before-upload":e.handleBeforeUpload,type:"drag",action:"//"}},[a("div",{staticClass:"photo-content"},[a("div",{staticClass:"photo-icon"}),e._v(" "),a("p",[e._v("上传头像")])])]),e._v(" "),a("p",{staticClass:"photo-msg"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.urlList[0].length>0,expression:"urlList[0].length > 0"}],staticClass:"photo-list"},[a("img",{attrs:{src:e.urlList[0]}}),e._v(" "),a("div",{staticClass:"upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(t){e.handleRemove(0)}}})],1)])],1)]),e._v(" "),a("FormItem",{staticStyle:{width:"368px"},attrs:{label:"医生姓名",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formValidate.name,callback:function(t){e.formValidate.name=t},expression:"formValidate.name"}})],1),e._v(" "),a("FormItem",{attrs:{label:"性别",prop:"gender"}},[a("RadioGroup",{model:{value:e.formValidate.gender,callback:function(t){e.formValidate.gender=t},expression:"formValidate.gender"}},[a("Radio",{attrs:{label:"1"}},[e._v("男")]),e._v(" "),a("Radio",{attrs:{label:"0"}},[e._v("女")])],1)],1),e._v(" "),a("FormItem",{staticStyle:{width:"368px"},attrs:{label:"电话号码",prop:"phone",rules:[{required:!0,message:"请输入电话号码!"},{validator:function(e,t,a,i,r){var o=[];/^\d{11}$/.test(t)||a("请输入正确的电话号码！"),a(o)}}]}},[a("Input",{attrs:{placeholder:"请输入电话号码"},model:{value:e.formValidate.phone,callback:function(t){e.formValidate.phone=t},expression:"formValidate.phone"}})],1),e._v(" "),a("FormItem",{staticStyle:{width:"368px"},attrs:{label:"个人简介",prop:"synopsis"}},[a("Input",{attrs:{type:"textarea",rows:4,placeholder:""},model:{value:e.formValidate.synopsis,callback:function(t){e.formValidate.synopsis=t},expression:"formValidate.synopsis"}}),e._v(" "),a("p",{staticStyle:{"text-align":"right"}},[e._v(e._s(e.formValidate.synopsis.length)+"/100")])],1),e._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formValidate")}}},[e._v("下一步")])],1)],1)],1)])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"step"},[a("span",{staticStyle:{backgroundColor:"#53a5f8"}},[e._v("1.基本资料")]),e._v(" "),a("span",[e._v("2.认证信息")]),e._v(" "),a("span",[e._v("3.添加完成")])])}],o={render:i,staticRenderFns:r};t.a=o},CLTi:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".container-main[data-v-7729ae0c]{padding-left:230px;padding-top:200px}.ivu-input[data-v-7729ae0c]{width:200px}.photo-content2[data-v-7729ae0c]{width:500px;height:150px}.next[data-v-7729ae0c]{background-color:#53a5f8;border-radius:7px;cursor:pointer;margin-top:100px;margin-left:20%}.next[data-v-7729ae0c],.step>span[data-v-7729ae0c]{width:100px;height:30px;text-align:center;line-height:30px;color:#fff}.step>span[data-v-7729ae0c]{display:inline-block;background-color:#999;margin-bottom:100px;margin-right:30px;border-radius:3px}",""])},E862:function(e,t,a){var i=a("CLTi");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("926ebee4",i,!0)},FJDx:function(e,t,a){"use strict";t.a={props:{defaultValue:Array},data:function(){return{baseImgURL:"http://www.hellodoctor.com.cn/",urlList:["","","","",""],dataList:["","","","",""],allData:[],formValidate:{name:"",gender:"",phone:"",synopsis:"",logo:""},ruleValidate:{logo:[{required:!0,message:"请上传照片!",trigger:"blur"}],name:[{required:!0,message:"请输入姓名!",trigger:"blur"}],gender:[{required:!0,message:"请选择性别！",trigger:"change"}],hpname:[{required:!0,message:"请输入医院名称！",trigger:"blur"}],profession:[{required:!0,message:"请输入职业医师职业编码!",trigger:"blur"}],phone:[{required:!0,message:"请输入电话号码!",trigger:"blur"}]}}},mounted:function(){},methods:{saveFile:function(e,t){var a=this,i=new FormData;i.append("file",e),i.append("chunks","0"),i.append("token",a.$token.readToken("adminToken")),i.append("fileType","image"),a.$http.upload({url:"doct-webManager/mutual/upload.jhtml",data:i,success:function(e){0===e.code?(a.urlList.splice(t,1,a.baseImgURL+e.content),a.dataList.splice(t,1,e.content),a.$emit("urlList",a.dataList)):a.$Notice.error({title:"系统提示！",desc:e.desc})}})},ruleUpload:function(e,t){/\.(jpg|png)$/.test(e.name.toLowerCase())?e.size<=1048576?this.saveFile(e,t):this.$Notice.error({title:"系统提示！",desc:"图片大小不能超过1M！"}):this.$Notice.error({title:"系统提示！",desc:"请选择jpg、png图片！"})},handleBeforeUpload:function(e){return this.ruleUpload(e,0),!1},handleRemove:function(e){this.urlList.splice(e,1,""),this.dataList.splice(e,1,""),this.$emit("setPhotoList",this.dataList)},handleSubmit:function(e){var t=this;this.formValidate.logo=this.urlList[0],this.$refs[e].validate(function(e){e?(t.setStorage(),t.$router.push("/addDoctors")):t.$Message.error("请填写完整！")})},handleReset:function(e){this.$refs[e].resetFields()},setStorage:function(){var e=this;localStorage.setItem("name",e.formValidate.name),localStorage.setItem("gender",e.formValidate.gender),localStorage.setItem("phone",e.formValidate.phone),localStorage.setItem("synopsis",e.formValidate.synopsis),localStorage.setItem("urlList0",e.urlList[0])}}}},pVHI:function(e,t,a){"use strict";function i(e){a("E862")}Object.defineProperty(t,"__esModule",{value:!0});var r=a("FJDx"),o=a("8vcM"),s=a("VU/8"),l=i,n=s(r.a,o.a,l,"data-v-7729ae0c",null);t.default=n.exports}});